<?xml version="1.0" ?>
<!--Generated by bdd2octane 1.1.8-->
<features version="1">
<feature name="Susan Test" path="src/test/resources/features/edpay/Dev_Susan.feature" started="1721966718228" tag="">
<file>
<![CDATA[#Auto generated Octane revision tag
@TID447003REV0.1.0
@EDPAY @SUSAN @INDEV

Feature: Susan Test

  Scenario: Scenario - One
    Given Employee details are generated
      | workFun | award | empStatus |
      | S12     | PTC7  | TPFA      |

    When Allowance types are requested
    Then The Assignment API returns no Allowance Types
    And The 'API_LOGS' table contains the following values
      | path                                                                | httpmethod | statuscode | USERID        |
      | /api/v1/assignments/[AdminSchoolId]-[EMPLOYEEID]-01/allowance-types | GET        | 200        | [ADMINUSERID] |


  Scenario: Scenario - Two
    Given PREREQUISITE: '28/06/24' is on or before '28/06/23'
    And Employee details are generated
      | workFun | award | empStatus |
      | S12     | PTC7  | TPFA      |

    When Allowance types are requested
    Then The Assignment API returns no Allowance Types
    And The 'API_LOGS' table contains the following values
      | path                                                                | httpmethod | statuscode | USERID        |
      | /api/v1/assignments/[AdminSchoolId]-[EMPLOYEEID]-01/allowance-types | GET        | 200        | [ADMINUSERID] |


  Scenario: Scenario - Three
    Given Employee details are generated
      | workFun | award | empStatus |
      | S12     | PTC7  | TPFA      |

    When Allowance types are requested
    Then The Assignment API returns no Allowance Types
    And The 'API_LOGS' table contains the following values
      | path                                                                | httpmethod | statuscode | USERID        |
      | /api/v1/assignments/[AdminSchoolId]-[EMPLOYEEID]-01/allowance-types | GT         | 200        | [ADMINUSERID] |]]>
</file>
<scenarios>
<scenario name="Scenario - One">
<steps>
<step name="Given Employee details are generated
 | workFun | award | empStatus |
 | S12 | PTC7 | TPFA |" duration="0" status="passed"></step>
<step name="When Allowance types are requested" duration="0" status="passed"></step>
<step name="Then The Assignment API returns no Allowance Types" duration="0" status="passed"></step>
<step name="And The 'API_LOGS' table contains the following values
 | path | httpmethod | statuscode | USERID |
 | /api/v1/assignments/[AdminSchoolId]-[EMPLOYEEID]-01/allowance-types | GET | 200 | [ADMINUSERID] |" duration="0" status="passed"></step>
</steps>
</scenario>
<scenario name="Scenario - Two">
<steps>
<step name="Given PREREQUISITE: '28/06/24' is on or before '28/06/23'" duration="0" status="skipped"></step>
<step name="And Employee details are generated
 | workFun | award | empStatus |
 | S12 | PTC7 | TPFA |" duration="0" status="skipped"></step>
<step name="When Allowance types are requested" duration="0" status="skipped"></step>
<step name="Then The Assignment API returns no Allowance Types" duration="0" status="skipped"></step>
<step name="And The 'API_LOGS' table contains the following values
 | path | httpmethod | statuscode | USERID |
 | /api/v1/assignments/[AdminSchoolId]-[EMPLOYEEID]-01/allowance-types | GET | 200 | [ADMINUSERID] |" duration="0" status="skipped"></step>
</steps>
</scenario>
<scenario name="Scenario - Three">
<steps>
<step name="Given Employee details are generated
 | workFun | award | empStatus |
 | S12 | PTC7 | TPFA |" duration="0" status="passed"></step>
<step name="When Allowance types are requested" duration="0" status="passed"></step>
<step name="Then The Assignment API returns no Allowance Types" duration="0" status="passed"></step>
<step name="And The 'API_LOGS' table contains the following values
 | path | httpmethod | statuscode | USERID |
 | /api/v1/assignments/[AdminSchoolId]-[EMPLOYEEID]-01/allowance-types | GT | 200 | [ADMINUSERID] |" duration="0" status="failed">
<error_message><![CDATA[java.lang.AssertionError: API_LOGS: No match found
select count(*) from API_LOGS where path = '/api/v1/assignments/90021-8001049-01/allowance-types' and httpmethod = 'GT' and statuscode = '200' and USERID = '8000150' 
Expected: is a value greater than <0>
     but: <0> was equal to <0>
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at nz.epl.stepdefs.edpay.EdpayCommonStepDef.verifyDatabaseTable(EdpayCommonStepDef.java:1102)
	at âœ½.The 'API_LOGS' table contains the following values(src/test/resources/features/edpay/Dev_Susan.feature:39)
]]></error_message>
</step>
</steps>
</scenario>
</scenarios>
</feature>
</features>
